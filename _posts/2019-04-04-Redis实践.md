---
title: Redis实践
author: Yahui
layout: nosql
category: Nosql
---

《Redis实践》

<pre style="text-align: left;">
<span class="image featured"><img src="{{ 'assets/images/other/nosqlall.jpg' | relative_url }}" alt="" /></span>
<span class="image featured"><img src="{{ 'assets/images/other/redistype.jpg' | relative_url }}" alt="" /></span>
	Redis在PHP中的应用
	初始化：
		//连接本地的 Redis 服务
		$redis = new Redis();
		$redis->connect('127.0.0.1', 6379);
		echo "Connection to server successfully";
		     //查看服务是否运行
		echo "Server is running: " . $redis->ping();
	字符串类型(String O(1))：
		$redis -> set('key','value');
		$redis -> get('key');
		$redis -> del('key');
	队列类型(List O(N))：(l与r同理)(队列可以存储相同的字符串)
		$redis -> lpush('name','value');
		$redis -> lpop('name');
		$redis -> keys("*");// 获取所有队列的名称
		$redis -> llen('name');// 这个没有r
		$redis -> lindex('name',索引位置);// 同样没有r
		$redis -> lrange('name',起始位置,终止位置);// 同样没有r
		$redis -> lrem('name','value',count);// 删除name中count个值为value的
		$redis -> del('name');
	散列类型(Hash O(1) 成员各不相同)：
		$redis -> hset('name','key','value');
		$redis -> hget('name','key');
		$redis -> hgetall('name');
		$redis -> hdel('name','key');
		$redis -> del('name');
	集合类型(Set O(N) 成员各不相同)：
		$redis -> sadd('name','value');
		$redis -> smembers('name');// 统计name的所有值
		$redis -> sismember('name','value');// 检测name中是否存在值1
		$redis -> srem('name','value',count);// 删除name中值为value的
	有序集合类型(Sorted Set O(log(N)))
		$redis->zAdd('name',分数值1,'value1',分数值2,'value2');
	    $redis -> zrange('name',0,-1);从小到大取出数据
	   	$redis -> zRevRange('name',0,1,true);以值为下标，分数为值从大到小取出数据
	    $redis -> zrem($key1,'k1'); // 删除k1
	    $redis -> zRangeByLex($key1,'[k1','[k2')); // 根据value取出value介于k1到k2的值
	    $redis -> zRevRangeByScore($key1,500,0,array('withscores' => true))); // 根据分数值取出0~500之间，由于加上Rev是从大到小，所以分数也需要从大到小
</pre>