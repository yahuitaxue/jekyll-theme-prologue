---
title: Socket实时通讯随手笔记(MeepoPS)
author: Yahui
layout: post
---

http:

1、通过URl请求DNS服务器，找到对应IP的服务器，要求建立链接。

2、发送httprequest后，服务器接收到请求包处理请求，调用自己的服务返回httpresponse响应包

3、客户端接收到响应包后，渲染主体

4、接收到全部响应后，断开链接

<span class="image featured"><img src="{{ 'assets/images/other/IIS-rewrite.jpg' | relative_url }}" alt="" /></span>

<pre><code>
	MeepoPS官网：http://meepops.lanecn.com/
	简单使用：
	引入MeepoPS/index.php
	实例化$telnet = new \MeepoPS\Api\Telnet('服务器ip','端口号');
	设置子进程$telnet->childProcessCount = 1;
	设置实例名称$telnet->instanceName = 'test';
	主要内容：
	新建立连接时$telnet->callbackConnect = function($connect){
		可以打印出建立连接后的信息，比如id是$connect->id;
	};
	收到消息时$telnet->callbackNewData = function($connect,$data){
		$connect同上,$data是消息内容;
		实现群发
		foreach($connect->instance->clientList as $key){
			$key -> send('群发内容');
		}
	};
	最后启动MeepoPS \MeepoPS\runMeepoPS();

	下载MeepoPS后，可以看四中API示例与智能机器人的示例，自己研究一下。
</code></pre>